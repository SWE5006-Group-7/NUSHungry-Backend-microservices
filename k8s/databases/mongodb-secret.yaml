# MongoDB Secret 配置模板
#
# ⚠️ 重要：此文件不应包含真实密码！
# 请使用以下命令创建真实的 Secret：
#
# kubectl create secret generic mongodb-secret \
#   --from-literal=username=admin \
#   --from-literal=password=YOUR_STRONG_PASSWORD \
#   --from-literal=uri=mongodb://admin:YOUR_PASSWORD@YOUR_DOCUMENTDB_ENDPOINT:27017/review_db?ssl=true&replicaSet=rs0&readPreference=secondaryPreferred&retryWrites=false \
#   -n nushungry-dev
#
# 或者从 Terraform 输出获取：
# terraform output -raw documentdb_endpoint
#
# DocumentDB 连接注意事项：
# - ssl=true: 必须启用 SSL
# - replicaSet=rs0: DocumentDB 副本集名称
# - readPreference=secondaryPreferred: 读取偏好
# - retryWrites=false: DocumentDB 不支持重试写入
#
# Secret 数据项说明：
# - username: MongoDB 用户名
# - password: MongoDB 密码
# - uri: MongoDB 完整连接字符串

---
apiVersion: v1
kind: Secret
metadata:
  name: mongodb-secret
  namespace: nushungry-dev
  labels:
    app: nushungry
    component: database
type: Opaque
# 示例数据（Base64 编码的占位符，实际部署时请删除）
# data:
#   username: YWRtaW4=  # admin
#   password: WVVVX1NUUk9OR19QQVNTV09SRA==
#   uri: bW9uZ29kYjovL2FkbWluOllPVVJfUEFTU1dPUkRAWU9VUl9ET0NVTUVOVERCX0VORFBPSU5UOjI3MDE3L3Jldmlld19kYj9zc2w9dHJ1ZSZyZXBsaWNhU2V0PXJzMCZyZWFkUHJlZmVyZW5jZT1zZWNvbmRhcnlQcmVmZXJyZWQmcmV0cnlXcml0ZXM9ZmFsc2U=
